(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[376],{9e3:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/other/plugin",function(){return s(1214)}])},1214:function(e,n,s){"use strict";s.r(n),s.d(n,{__toc:function(){return t}});var i=s(5893),l=s(2673),a=s(2643);let t=[{depth:2,value:"Commercial Plugins",id:"commercial-plugins"},{depth:2,value:"Plugins for Analytics",id:"plugins-for-analytics"},{depth:2,value:"Warnings & Considerations",id:"warnings--considerations"},{depth:2,value:"General Setup",id:"general-setup"},{depth:2,value:"Android Implementation",id:"android-implementation"},{depth:3,value:"1. Create the Plugin",id:"1-create-the-plugin"},{depth:3,value:"2. Register the Plugin",id:"2-register-the-plugin"},{depth:2,value:"iOS Implementation",id:"ios-implementation"},{depth:3,value:"1. Podspec Integration",id:"1-podspec-integration"},{depth:3,value:"2. Create the Plugin",id:"2-create-the-plugin"},{depth:3,value:"3. Register the Plugin",id:"3-register-the-plugin"}];function r(e){let n=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",blockquote:"blockquote",strong:"strong",pre:"pre",span:"span",h3:"h3"},(0,a.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{children:"Plugin"}),"\n",(0,i.jsxs)(n.p,{children:["Since version ",(0,i.jsx)(n.code,{children:"6.4.0"}),", it is possible to create plugins for analytics management and potentially more.\nA sample plugin is available in the repository: ",(0,i.jsx)(n.a,{href:"https://github.com/TheWidlarzGroup/react-native-video/tree/master/examples/react-native-video-plugin-sample",children:"example/react-native-video-plugin-sample"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"commercial-plugins",children:"Commercial Plugins"}),"\n",(0,i.jsxs)(n.p,{children:["We at The Widlarz Group have created a set of plugins for comprehensive offline video support. If you are interested, check out our ",(0,i.jsx)(n.a,{href:"https://www.thewidlarzgroup.com/offline-video-sdk/?utm_source=rnv&utm_medium=docs&utm_campaign=plugins&utm_id=text",children:"Offline Video SDK"}),". If you need additional plugins (analytics, processing, etc.), let us know."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Using or recommending our commercial software helps support the maintenance of this open-source project. Thank you!"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"plugins-for-analytics",children:"Plugins for Analytics"}),"\n",(0,i.jsxs)(n.p,{children:["Most analytics systems that track player data (e.g., bitrate, errors) can be integrated directly with ExoPlayer or AVPlayer.\nThis plugin system allows for non-intrusive analytics integration with ",(0,i.jsx)(n.code,{children:"react-native-video"}),". It should be implemented in native languages (Kotlin/Swift) to ensure efficiency."]}),"\n",(0,i.jsxs)(n.p,{children:["The goal is to enable easy analytics integration without modifying ",(0,i.jsx)(n.code,{children:"react-native-video"})," itself."]}),"\n",(0,i.jsx)(n.h2,{id:"warnings--considerations",children:"Warnings & Considerations"}),"\n",(0,i.jsxs)(n.p,{children:["This is an ",(0,i.jsx)(n.strong,{children:"experimental API"})," and may change over time. The API is simple yet flexible enough to implement analytics systems.\nIf additional metadata is needed, you should implement a setter in your custom package."]}),"\n",(0,i.jsxs)(n.p,{children:["Since the API is flexible, misuse is possible. The player handle should be treated as ",(0,i.jsx)(n.strong,{children:"read-only"}),". Modifying player behavior may cause unexpected issues in ",(0,i.jsx)(n.code,{children:"react-native-video"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"general-setup",children:"General Setup"}),"\n",(0,i.jsx)(n.p,{children:"First, create a new React Native package:"}),"\n",(0,i.jsx)(n.pre,{"data-language":"shell","data-theme":"default",children:(0,i.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"create-react-native-library@latest"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"react-native-video-custom-analytics"})]})})}),"\n",(0,i.jsxs)(n.p,{children:["Both Android and iOS implementations expose an ",(0,i.jsx)(n.code,{children:"RNVPlugin"})," interface.\nYour ",(0,i.jsx)(n.code,{children:"react-native-video-custom-analytics"})," package should implement this interface and register itself as a plugin for ",(0,i.jsx)(n.code,{children:"react-native-video"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"android-implementation",children:"Android Implementation"}),"\n",(0,i.jsx)(n.h3,{id:"1-create-the-plugin",children:"1. Create the Plugin"}),"\n",(0,i.jsxs)(n.p,{children:["First, instantiate a class that extends ",(0,i.jsx)(n.code,{children:"RNVPlugin"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The recommended approach is to implement ",(0,i.jsx)(n.code,{children:"RNVPlugin"})," inside the Module file (",(0,i.jsx)(n.code,{children:"VideoPluginSampleModule"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"RNVPlugin"})," interface defines two functions:"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"kotlin","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"kotlin","data-theme":"default",children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * Called when a new player instance is created."})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@param"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" id: A unique identifier for the player instance."})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@param"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" player: The instantiated player reference."})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"fun"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"onInstanceCreated"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(id: "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"String"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:", player: "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Any"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:" "}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * Called when a player instance should be destroyed."})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * The plugin should free resources and release all references to the player object."})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@param"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" id: A unique identifier for the player instance."})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@param"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" player: The player to release."})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"fun"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"onInstanceRemoved"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(id: "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"String"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:", player: "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Any"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]})]})}),"\n",(0,i.jsx)(n.h3,{id:"2-register-the-plugin",children:"2. Register the Plugin"}),"\n",(0,i.jsxs)(n.p,{children:["To register the plugin within the main ",(0,i.jsx)(n.code,{children:"react-native-video"})," package, call:"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"kotlin","data-theme":"default",children:(0,i.jsx)(n.code,{"data-language":"kotlin","data-theme":"default",children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"ReactNativeVideoManager."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"getInstance"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"()."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"registerPlugin"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(plugin)"})]})})}),"\n",(0,i.jsxs)(n.p,{children:["In the sample implementation, the plugin is registered in the ",(0,i.jsx)(n.code,{children:"createNativeModules"})," entry point."]}),"\n",(0,i.jsx)(n.p,{children:"Once registered, your module can track player updates and report analytics data."}),"\n",(0,i.jsx)(n.h2,{id:"ios-implementation",children:"iOS Implementation"}),"\n",(0,i.jsx)(n.h3,{id:"1-podspec-integration",children:"1. Podspec Integration"}),"\n",(0,i.jsxs)(n.p,{children:["Your new module must have access to ",(0,i.jsx)(n.code,{children:"react-native-video"}),". Add it as a dependency in your Podspec file:"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"podfile","data-theme":"default",children:(0,i.jsx)(n.code,{"data-language":"podfile","data-theme":"default",children:(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'s.dependency "react-native-video"'})})})}),"\n",(0,i.jsx)(n.h3,{id:"2-create-the-plugin",children:"2. Create the Plugin"}),"\n",(0,i.jsxs)(n.p,{children:["Instantiate a class that extends ",(0,i.jsx)(n.code,{children:"RNVPlugin"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The recommended approach is to implement ",(0,i.jsx)(n.code,{children:"RNVPlugin"})," inside the entry point module file (",(0,i.jsx)(n.code,{children:"VideoPluginSample"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"RNVPlugin"})," interface defines two functions:"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"swift","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"swift","data-theme":"default",children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * Called when a new player instance is created."})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * @param player: The instantiated player reference."})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"onInstanceCreated"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"player"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:": "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Any"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:" "}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * Called when a player instance should be destroyed."})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * The plugin should free resources and release all references to the player object."})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * @param player: The player to release."})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"onInstanceRemoved"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"player"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:": "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Any"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]})]})}),"\n",(0,i.jsx)(n.h3,{id:"3-register-the-plugin",children:"3. Register the Plugin"}),"\n",(0,i.jsxs)(n.p,{children:["To register the plugin in ",(0,i.jsx)(n.code,{children:"react-native-video"}),", call:"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"swift","data-theme":"default",children:(0,i.jsx)(n.code,{"data-language":"swift","data-theme":"default",children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"ReactNativeVideoManager.shared."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"registerPlugin"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"plugin"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" plugin"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]})})}),"\n",(0,i.jsxs)(n.p,{children:["In the sample implementation, the plugin is registered inside the ",(0,i.jsx)(n.code,{children:"VideoPluginSample"})," file within the ",(0,i.jsx)(n.code,{children:"init"})," function:"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"swift","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"swift","data-theme":"default",children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"react_native_video"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:" "}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."})}),"\n",(0,i.jsx)(n.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"override"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"init"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    super."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"init"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    ReactNativeVideoManager.shared."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"registerPlugin"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"plugin"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" self"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsx)(n.p,{children:"Once registered, your module can track player updates and report analytics data to your backend."})]})}n.default=(0,l.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.a)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)},pageOpts:{filePath:"pages/other/plugin.md",route:"/other/plugin",timestamp:1741261105e3,title:"Plugin",headings:t},pageNextRoute:"/other/plugin"})}},function(e){e.O(0,[673,888,774,179],function(){return e(e.s=9e3)}),_N_E=e.O()}]);