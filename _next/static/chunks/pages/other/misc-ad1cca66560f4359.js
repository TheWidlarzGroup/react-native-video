(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{9704:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/other/misc",function(){return n(1449)}])},1449:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return t},default:function(){return c}});var i=n(5893),o=n(2673),r=n(2643),l={src:"/react-native-video//_next/static/media/AppTransportSecuritySetting.b5c387e7.png",height:90,width:964,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAAAAADGa7CfAAAAEklEQVR42mP4+ubDjy/ffv0FACJAB6vdOiHaAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1};let t=[{depth:2,value:"iOS App Transport Security",id:"ios-app-transport-security"},{depth:2,value:"Audio Mixing",id:"audio-mixing"},{depth:3,value:"AppDelegate.m",id:"appdelegatem"},{depth:2,value:"Android Expansion File Usage",id:"android-expansion-file-usage"},{depth:3,value:"Example Usage in Code:",id:"example-usage-in-code"},{depth:2,value:"Load Files with the React Native Asset System",id:"load-files-with-the-react-native-asset-system"},{depth:3,value:"Example:",id:"example"},{depth:2,value:"Play in Background on iOS",id:"play-in-background-on-ios"}];function a(e){let s=Object.assign({h1:"h1",h2:"h2",p:"p",code:"code",img:"img",a:"a",h3:"h3",strong:"strong",pre:"pre",span:"span",ul:"ul",li:"li",em:"em"},(0,r.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{children:"Miscellaneous"}),"\n",(0,i.jsx)(s.h2,{id:"ios-app-transport-security",children:"iOS App Transport Security"}),"\n",(0,i.jsxs)(s.p,{children:["By default, iOS only allows loading encrypted (",(0,i.jsx)(s.code,{children:"https"}),") URLs. If you need to load content from an unencrypted (",(0,i.jsx)(s.code,{children:"http"}),") source, you must modify your ",(0,i.jsx)(s.code,{children:"Info.plist"})," file and add the following entry:"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"App Transport Security",placeholder:"blur",src:l})}),"\n",(0,i.jsxs)(s.p,{children:["For more details, check this ",(0,i.jsx)(s.a,{href:"https://cocoacasts.com/how-to-add-app-transport-security-exception-domains",children:"article"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"audio-mixing",children:"Audio Mixing"}),"\n",(0,i.jsxs)(s.p,{children:["In future versions, ",(0,i.jsx)(s.code,{children:"react-native-video"})," will include an Audio Manager for configuring how videos mix with other audio-playing apps."]}),"\n",(0,i.jsxs)(s.p,{children:["On iOS, if you want to allow background music from other apps to continue playing over your video component, update your ",(0,i.jsx)(s.code,{children:"AppDelegate.m"})," file:"]}),"\n",(0,i.jsx)(s.h3,{id:"appdelegatem",children:(0,i.jsx)(s.strong,{children:"AppDelegate.m"})}),"\n",(0,i.jsx)(s.pre,{"data-language":"objective-c","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"objective-c","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"#import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"<AVFoundation/AVFoundation.h>"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Import the AVFoundation framework"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"BOOL"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")application:(UIApplication "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")application didFinishLaunchingWithOptions:("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NSDictionary"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")launchOptions"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ..."})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  [[AVAudioSession "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sharedInstance"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"] "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"setCategory"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"AVAudioSessionCategoryAmbient error"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"nil"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"];  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Allow background audio"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ..."})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["You can also use the ",(0,i.jsx)(s.a,{href:"#ignoresilentswitch",children:(0,i.jsx)(s.code,{children:"ignoreSilentSwitch"})})," prop."]}),"\n",(0,i.jsx)(s.h2,{id:"android-expansion-file-usage",children:"Android Expansion File Usage"}),"\n",(0,i.jsx)(s.p,{children:"Expansion files allow you to include assets exceeding the 100MB APK size limit without requiring an update every time you push a new version."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Only supports ",(0,i.jsx)(s.code,{children:".mp4"})," files, and they ",(0,i.jsx)(s.strong,{children:"must not be compressed"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Example command to prevent compression:"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"zip"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-r"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-n"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:".mp4"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"*.mp4"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"player.video.example.com"})]})})}),"\n",(0,i.jsx)(s.h3,{id:"example-usage-in-code",children:"Example Usage in Code:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"javascript","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"javascript","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// Assuming "background.mp4" is included in your expansion file.'})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Video"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"source"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{{uri"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"background"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mainVer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" patchVer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// Looks for "background.mp4" in the specified expansion version.'})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"resizeMode"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"cover"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"           "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Fill the whole screen while maintaining aspect ratio."})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"style"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"styles"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".backgroundVideo} "})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"/>"})})]})}),"\n",(0,i.jsx)(s.h2,{id:"load-files-with-the-react-native-asset-system",children:"Load Files with the React Native Asset System"}),"\n",(0,i.jsxs)(s.p,{children:["The asset system introduced in RN ",(0,i.jsx)(s.code,{children:"0.14"})," allows loading shared image resources across iOS and Android without modifying native code. As of RN ",(0,i.jsx)(s.code,{children:"0.31"}),", the same applies to ",(0,i.jsx)(s.code,{children:".mp4"})," video assets on Android. From RN ",(0,i.jsx)(s.code,{children:"0.33"}),", iOS support was added. Requires ",(0,i.jsx)(s.code,{children:"react-native-video@0.9.0"})," or later."]}),"\n",(0,i.jsx)(s.h3,{id:"example",children:"Example:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"javascript","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"javascript","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Video"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"source"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"require"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'../assets/video/turntable.mp4'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")}"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"/>"})})]})}),"\n",(0,i.jsx)(s.h2,{id:"play-in-background-on-ios",children:"Play in Background on iOS"}),"\n",(0,i.jsxs)(s.p,{children:["To allow audio playback in the background on iOS, set the audio session to ",(0,i.jsx)(s.code,{children:"AVAudioSessionCategoryPlayback"}),". See the ",(0,i.jsx)(s.a,{href:"https://developer.apple.com/documentation/avfoundation/avaudiosession",children:"Apple documentation"})," for more details."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.em,{children:["(Note: There is an open ticket to ",(0,i.jsx)(s.a,{href:"https://github.com/react-native-community/react-native-video/issues/310",children:"expose this as a prop"}),".)"]})})]})}var c=(0,o.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.a)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)},pageOpts:{filePath:"pages/other/misc.md",route:"/other/misc",timestamp:1749119815e3,title:"Miscellaneous",headings:t},pageNextRoute:"/other/misc"})}},function(e){e.O(0,[673,888,774,179],function(){return e(e.s=9704)}),_N_E=e.O()}]);