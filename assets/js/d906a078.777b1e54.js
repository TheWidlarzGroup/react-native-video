"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["6443"],{9051:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>r,toc:()=>o,default:()=>h,metadata:()=>i,assets:()=>c,contentTitle:()=>d});var i=JSON.parse('{"id":"plugins/plugins","title":"Plugins","description":"Overview of the React Native Video plugin system","source":"@site/docs/plugins/plugins.mdx","sourceDirName":"plugins","slug":"/plugins/","permalink":"/react-native-video/docs/v7/plugins/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Plugins","description":"Overview of the React Native Video plugin system","sidebar_position":6},"sidebar":"docsSidebar","previous":{"title":"Downloading \u{1F9E9}","permalink":"/react-native-video/docs/v7/downloading"},"next":{"title":"Plugin Interface","permalink":"/react-native-video/docs/v7/plugins/interface"}}'),l=t(4848),s=t(6151);let r={title:"Plugins",description:"Overview of the React Native Video plugin system",sidebar_position:6},d="Plugins Overview",c={},o=[{value:"What Are Plugins?",id:"what-are-plugins",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Plugin Lifecycle",id:"plugin-lifecycle",level:3},{value:"Platform Differences",id:"platform-differences",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Example: Android Plugin",id:"example-android-plugin",level:3},{value:"Example: iOS Plugin",id:"example-ios-plugin",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"plugins-overview",children:"Plugins Overview"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.strong,{children:"React Native Video"})," library offers a robust plugin system to extend and customize video functionality on Android and iOS. With plugins, you can override source handling, implement custom DRM, modify media factories, and respond to player lifecycle events."]}),"\n",(0,l.jsx)(n.admonition,{title:"Use in Third Party Library Guide",type:"tip",children:(0,l.jsxs)(n.p,{children:["If you are looking how to import React Native Video in your native code to use plugins, you can checkout ",(0,l.jsx)(n.a,{href:"../use-in-third-party-library",children:"Use in Third Party Library"})," page."]})}),"\n",(0,l.jsx)(n.h2,{id:"what-are-plugins",children:"What Are Plugins?"}),"\n",(0,l.jsx)(n.p,{children:"Plugins are modular extensions that hook into the video player's lifecycle and processing pipeline. They allow you to:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Customize video sources"})," before playback"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Implement custom DRM"})," for protected content"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Override media factories"})," (Android only)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"React to player lifecycle events"})," for analytics, logging, or cleanup"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Control caching behavior"})," for performance"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,l.jsx)(n.p,{children:"The plugin system consists of three main components:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Component"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"PluginsRegistry"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Singleton that manages plugin registration and coordinates plugin interactions"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"ReactNativeVideoPluginSpec"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Interface/protocol defining the contract all plugins must implement"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"ReactNativeVideoPlugin"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Base implementation with convenient defaults; override only the methods you care about"})]})]})]}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["Plugins are automatically registered when you instantiate a class that extends ",(0,l.jsx)(n.code,{children:"ReactNativeVideoPlugin"}),"."]})}),"\n",(0,l.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,l.jsx)(n.h3,{id:"plugin-lifecycle",children:"Plugin Lifecycle"}),"\n",(0,l.jsx)(n.p,{children:"Plugins receive notifications for key events:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Player creation/destruction"})," \u2014 react to player instance lifecycle"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Video view creation/destruction"})," \u2014 handle UI component lifecycle"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Source processing"})," \u2014 modify video sources before playback"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"DRM requests"})," \u2014 provide custom DRM handling"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Media factory overrides"})," \u2014 customize ExoPlayer components (Android)"]}),"\n"]}),"\n",(0,l.jsx)(n.admonition,{type:"caution",children:(0,l.jsxs)(n.p,{children:["All player and view references passed to plugins are ",(0,l.jsx)(n.strong,{children:"weak references"})," to prevent memory leaks."]})}),"\n",(0,l.jsx)(n.h2,{id:"platform-differences",children:"Platform Differences"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Feature"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Android (Kotlin / ExoPlayer)"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"iOS (Swift / AVFoundation)"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Underlying player"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"ExoPlayer"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"AVFoundation"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Media factory customization"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Extensive"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Limited"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Cache control"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Supported"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Limited"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Plugin method style"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Synchronous"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Async/await"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Memory management"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Manual cleanup"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Manual cleanup"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,l.jsx)(n.h3,{id:"example-android-plugin",children:"Example: Android Plugin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'// Android\nclass MyPlugin : ReactNativeVideoPlugin("MyPluginName") {\n    override fun onPlayerCreated(player: WeakReference<NativeVideoPlayer>) {\n        // Custom logic here\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"example-ios-plugin",children:"Example: iOS Plugin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-swift",children:'// iOS\nclass MyPlugin: ReactNativeVideoPlugin {\n    init() {\n        super.init(name: "MyPluginName")\n    }\n\n    override func onPlayerCreated(player: Weak<NativeVideoPlayer>) {\n        // Custom logic here\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./registry",children:(0,l.jsx)(n.strong,{children:"Plugin Registry"})})," \u2014 Learn about plugin management and registration"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./interface",children:(0,l.jsx)(n.strong,{children:"Plugin Interface"})})," \u2014 Complete API reference for plugin methods"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./examples",children:(0,l.jsx)(n.strong,{children:"Usage Examples"})})," \u2014 Practical implementations and common patterns"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},6151:function(e,n,t){t.d(n,{R:()=>r,x:()=>d});var i=t(6540);let l={},s=i.createContext(l);function r(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);