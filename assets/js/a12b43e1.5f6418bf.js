"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["6441"],{3509:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>t,toc:()=>d,default:()=>h,metadata:()=>l,assets:()=>s,contentTitle:()=>a});var l=JSON.parse('{"id":"other/debug","title":"Debugging","description":"React Native Video Debugging Tips","source":"@site/versioned_docs/version-6.x/other/debug.md","sourceDirName":"other","slug":"/other/debug","permalink":"/react-native-video/docs/v6/other/debug","draft":false,"unlisted":false,"tags":[],"version":"6.x","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Debugging","description":"React Native Video Debugging Tips"},"sidebar":"docsSidebar","previous":{"title":"Expo","permalink":"/react-native-video/docs/v6/other/expo"},"next":{"title":"Caching","permalink":"/react-native-video/docs/v6/other/caching"}}'),r=i(4848),o=i(6151);let t={sidebar_position:2,title:"Debugging",description:"React Native Video Debugging Tips"},a="Debugging",s={},d=[{value:"Using the Sample App",id:"using-the-sample-app",level:2},{value:"HTTP Playback Doesn&#39;t Work or Black Screen on Release Build (Android)",id:"http-playback-doesnt-work-or-black-screen-on-release-build-android",level:2},{value:"Decoder Issue (Android)",id:"decoder-issue-android",level:2},{value:"Unable to Play Clear Content (All OS)",id:"unable-to-play-clear-content-all-os",level:2},{value:"Check Remote File Access",id:"check-remote-file-access",level:3},{value:"Check If Another Player Can Play the Content",id:"check-if-another-player-can-play-the-content",level:3},{value:"Unable to Play Protected Content (All OS)",id:"unable-to-play-protected-content-all-os",level:2},{value:"Protected Content Gives an Error (Token Error / Access Forbidden)",id:"protected-content-gives-an-error-token-error--access-forbidden",level:3},{value:"Debugging Network Calls Not Visible in React Native Debugging Tools",id:"debugging-network-calls-not-visible-in-react-native-debugging-tools",level:2},{value:"Debugging Media3: Build from Media3 Source",id:"debugging-media3-build-from-media3-source",level:2},{value:"Configure Player Path",id:"configure-player-path",level:3},{value:"Enable Building from Source",id:"enable-building-from-source",level:3},{value:"Still Not Working?",id:"still-not-working",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"debugging",children:"Debugging"})}),"\n",(0,r.jsx)(n.p,{children:"This page provides useful tips for debugging and troubleshooting issues in the package or your application."}),"\n",(0,r.jsx)(n.h2,{id:"using-the-sample-app",children:"Using the Sample App"}),"\n",(0,r.jsxs)(n.p,{children:["This repository contains multiple sample implementations in the ",(0,r.jsx)(n.code,{children:"example"})," folder. It is always preferable to test behavior in a sample app rather than in a full application. The basic sample allows testing of many features."]}),"\n",(0,r.jsx)(n.p,{children:"To use the sample app, follow these steps:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Clone this repository:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone git@github.com:TheWidlarzGroup/react-native-video.git\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to the root folder and build the package. This generates a transpiled version in the ",(0,r.jsx)(n.code,{children:"lib"})," folder:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd react-native-video && yarn && yarn build\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to the sample app and install dependencies:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd example/basic && yarn install\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Build and run the app:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For Android:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yarn android\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["For iOS:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd ios && pod install && cd .. && yarn ios\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"http-playback-doesnt-work-or-black-screen-on-release-build-android",children:"HTTP Playback Doesn't Work or Black Screen on Release Build (Android)"}),"\n",(0,r.jsxs)(n.p,{children:["If your video works in Debug mode but shows only a black screen in Release mode, check the URL of your video. If you are using the ",(0,r.jsx)(n.code,{children:"http"})," protocol, you need to add the following line to your ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"})," file. ",(0,r.jsx)(n.a,{href:"https://developer.android.com/guide/topics/manifest/application-element#usesCleartextTraffic",children:"More details here"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<application\n ...\n android:usesCleartextTraffic="true"\n>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"decoder-issue-android",children:"Decoder Issue (Android)"}),"\n",(0,r.jsxs)(n.p,{children:["Some devices have a maximum number of simultaneous video playbacks. If this limit is reached, ExoPlayer returns an error: ",(0,r.jsx)(n.code,{children:"Unable to instantiate decoder"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Known issue:"})," This happens frequently in Debug mode."]}),"\n",(0,r.jsx)(n.h2,{id:"unable-to-play-clear-content-all-os",children:"Unable to Play Clear Content (All OS)"}),"\n",(0,r.jsx)(n.p,{children:"Before opening a ticket, follow these steps:"}),"\n",(0,r.jsx)(n.h3,{id:"check-remote-file-access",children:"Check Remote File Access"}),"\n",(0,r.jsx)(n.p,{children:"Ensure you can download the manifest/content file using a browser."}),"\n",(0,r.jsx)(n.h3,{id:"check-if-another-player-can-play-the-content",children:"Check If Another Player Can Play the Content"}),"\n",(0,r.jsxs)(n.p,{children:["Clear playback should work with any video player. Test the content with another player, such as ",(0,r.jsx)(n.a,{href:"https://www.videolan.org/vlc/",children:"VLC"}),", to confirm it plays without issues."]}),"\n",(0,r.jsx)(n.h2,{id:"unable-to-play-protected-content-all-os",children:"Unable to Play Protected Content (All OS)"}),"\n",(0,r.jsx)(n.h3,{id:"protected-content-gives-an-error-token-error--access-forbidden",children:"Protected Content Gives an Error (Token Error / Access Forbidden)"}),"\n",(0,r.jsxs)(n.p,{children:["If the content requires an access token or HTTP headers, ensure you can access the data using ",(0,r.jsx)(n.code,{children:"wget"})," or a REST client. Provide all necessary authentication parameters."]}),"\n",(0,r.jsx)(n.h2,{id:"debugging-network-calls-not-visible-in-react-native-debugging-tools",children:"Debugging Network Calls Not Visible in React Native Debugging Tools"}),"\n",(0,r.jsx)(n.p,{children:"This is a React Native limitation\u2014React Native debugging tools only capture network calls made in JavaScript."}),"\n",(0,r.jsx)(n.p,{children:"To debug network calls, use tools like:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.charlesproxy.com/",children:"Charles Proxy"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.telerik.com/fiddler",children:"Fiddler"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These tools allow you to sniff all HTTP/HTTPS calls, including access to content, DRM, and audio/video chunks. Compare the request/response patterns with previous tests to diagnose issues."}),"\n",(0,r.jsx)(n.h2,{id:"debugging-media3-build-from-media3-source",children:"Debugging Media3: Build from Media3 Source"}),"\n",(0,r.jsx)(n.p,{children:"If you need to use a specific ExoPlayer version or modify default behavior, you may need to build from the Media3 source code."}),"\n",(0,r.jsx)(n.h3,{id:"configure-player-path",children:"Configure Player Path"}),"\n",(0,r.jsxs)(n.p,{children:["Add the following lines to ",(0,r.jsx)(n.code,{children:"settings.gradle"})," to configure your Media3 source path:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gradle",children:"gradle.ext.androidxMediaModulePrefix = 'media-'\napply from: file(\"../../../../media3/core_settings.gradle\")\n"})}),"\n",(0,r.jsx)(n.p,{children:"Replace this with the actual Media3 source path. Ensure that you use the same version (or a compatible API version) supported by the package."}),"\n",(0,r.jsx)(n.h3,{id:"enable-building-from-source",children:"Enable Building from Source"}),"\n",(0,r.jsxs)(n.p,{children:["In your ",(0,r.jsx)(n.code,{children:"build.gradle"})," file, add the following setting:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gradle",children:"buildscript {\n    ext {\n        ...\n        buildFromMedia3Source = true\n        ...\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"still-not-working",children:"Still Not Working?"}),"\n",(0,r.jsxs)(n.p,{children:["You can open a ticket or contact us for ",(0,r.jsx)(n.a,{href:"https://www.thewidlarzgroup.com/?utm_source=rnv&utm_medium=docs&utm_campaign=debugging&utm_id=enterprise#Contact",children:"premium support"}),"."]})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},6151:function(e,n,i){i.d(n,{R:()=>t,x:()=>a});var l=i(6540);let r={},o=l.createContext(r);function t(e){let n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);