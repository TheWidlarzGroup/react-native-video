"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["4847"],{6998:function(e,a,t){t.r(a),t.d(a,{frontMatter:()=>s,toc:()=>c,default:()=>u,metadata:()=>n,assets:()=>r,contentTitle:()=>o});var n=JSON.parse('{"id":"player/downloading/track-selection","title":"Track Selection","description":"How to select specific tracks for download","source":"@site/docs/player/downloading/track-selection.md","sourceDirName":"player/downloading","slug":"/player/downloading/track-selection","permalink":"/react-native-video/docs/v7/player/downloading/track-selection","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"Track Selection","description":"How to select specific tracks for download"},"sidebar":"docsSidebar","previous":{"title":"Events (downloading)","permalink":"/react-native-video/docs/v7/player/downloading/events-downloading"},"next":{"title":"DRM Downloading","permalink":"/react-native-video/docs/v7/player/downloading/drm-downloading"}}'),l=t(4848),i=t(6151);let s={sidebar_position:4,sidebar_label:"Track Selection",description:"How to select specific tracks for download"},o="Track Selection",r={},c=[{value:"Why Select Tracks?",id:"why-select-tracks",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Step 1: Get Available Tracks",id:"step-1-get-available-tracks",level:3},{value:"Step 2: Download Selected Tracks",id:"step-2-download-selected-tracks",level:3},{value:"Example: Multi-Language Selection",id:"example-multi-language-selection",level:2},{value:"Default Behavior",id:"default-behavior",level:2}];function d(e){let a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.header,{children:(0,l.jsx)(a.h1,{id:"track-selection",children:"Track Selection"})}),"\n",(0,l.jsx)(a.p,{children:"Track selection allows you to download only the specific audio, video, and subtitle tracks you need, optimizing storage usage and download time."}),"\n",(0,l.jsx)(a.h2,{id:"why-select-tracks",children:"Why Select Tracks?"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.strong,{children:"Storage Optimization"}),": Download only the tracks you need (e.g., specific language, resolution)"]}),"\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.strong,{children:"Language Support"}),": Choose audio tracks in different languages"]}),"\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.strong,{children:"Subtitle Selection"}),": Download only the subtitle languages your users need"]}),"\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.strong,{children:"Bitrate Control"}),": Select video tracks with appropriate bitrates for your use case"]}),"\n"]}),"\n",(0,l.jsx)(a.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,l.jsx)(a.p,{children:"The track selection process follows a 2-step flow:"}),"\n",(0,l.jsxs)(a.ol,{children:["\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.strong,{children:"Inspect Available Tracks"}),": Use ",(0,l.jsx)(a.code,{children:"getAvailableTracks(url)"})," to retrieve all available tracks"]}),"\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.strong,{children:"Select Tracks for Download"}),": Pass the selected track IDs to ",(0,l.jsx)(a.code,{children:"downloadStream"})," in the ",(0,l.jsx)(a.code,{children:"tracks"})," property"]}),"\n"]}),"\n",(0,l.jsx)(a.h3,{id:"step-1-get-available-tracks",children:"Step 1: Get Available Tracks"}),"\n",(0,l.jsxs)(a.p,{children:["Use ",(0,l.jsx)(a.code,{children:"getAvailableTracks"})," to retrieve all available tracks. See ",(0,l.jsx)(a.a,{href:"/react-native-video/docs/v7/player/downloading/#getavailabletracks",children:"getAvailableTracks"})," in API Reference for complete details."]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-tsx",children:'import { getAvailableTracks } from "@TheWidlarzGroup/react-native-video-stream-downloader";\n\nconst tracks = await getAvailableTracks("https://example.com/video.m3u8");\n// tracks.video, tracks.audio, tracks.text contain available tracks\n'})}),"\n",(0,l.jsx)(a.h3,{id:"step-2-download-selected-tracks",children:"Step 2: Download Selected Tracks"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-tsx",children:'import { downloadStream } from "@TheWidlarzGroup/react-native-video-stream-downloader";\n\n// Select specific tracks\nconst selectedTracks = [\n  tracks.video[0].id, // First video track (usually highest quality)\n  tracks.audio.find(t => t.language === "en")?.id, // English audio\n  tracks.text.find(t => t.language === "en")?.id, // English subtitles\n].filter(Boolean); // Remove undefined values\n\nawait downloadStream("https://example.com/video.m3u8", {\n  tracks: selectedTracks.map(id => ({ id, type: "video" })), // You need to specify type\n});\n'})}),"\n",(0,l.jsx)(a.h2,{id:"example-multi-language-selection",children:"Example: Multi-Language Selection"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-tsx",children:'import { getAvailableTracks, downloadStream } from "@TheWidlarzGroup/react-native-video-stream-downloader";\n\nconst tracks = await getAvailableTracks(videoUrl);\n\n// Select video track (highest quality)\nconst videoTrack = tracks.video[0];\n\n// Select multiple audio tracks (English and Spanish)\nconst audioTracks = tracks.audio.filter(t => \n  t.language === "en" || t.language === "es"\n);\n\n// Select subtitles for both languages\nconst subtitleTracks = tracks.text.filter(t => \n  t.language === "en" || t.language === "es"\n);\n\n// Build track selection array\nconst selectedTracks = [\n  { id: videoTrack.id, type: "video" as const },\n  ...audioTracks.map(t => ({ id: t.id, type: "audio" as const })),\n  ...subtitleTracks.map(t => ({ id: t.id, type: "text" as const })),\n];\n\nawait downloadStream(videoUrl, {\n  tracks: selectedTracks,\n});\n'})}),"\n",(0,l.jsx)(a.h2,{id:"default-behavior",children:"Default Behavior"}),"\n",(0,l.jsxs)(a.p,{children:["If you don't specify ",(0,l.jsx)(a.code,{children:"tracks"})," in ",(0,l.jsx)(a.code,{children:"downloadStream"}),", or if ",(0,l.jsx)(a.code,{children:"includeAllTracks"})," is ",(0,l.jsx)(a.code,{children:"false"}),", only the default tracks are downloaded (typically the first video track and the first audio track)."]}),"\n",(0,l.jsxs)(a.p,{children:["To download all available tracks, set ",(0,l.jsx)(a.code,{children:"includeAllTracks: true"}),":"]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-tsx",children:"await downloadStream(videoUrl, {\n  includeAllTracks: true,\n});\n"})})]})}function u(e={}){let{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,l.jsx)(a,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},6151:function(e,a,t){t.d(a,{R:()=>s,x:()=>o});var n=t(6540);let l={},i=n.createContext(l);function s(e){let a=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),n.createElement(i.Provider,{value:a},e.children)}}}]);