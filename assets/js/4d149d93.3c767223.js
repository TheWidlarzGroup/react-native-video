"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["3044"],{2340:function(e,i,n){n.r(i),n.d(i,{frontMatter:()=>a,toc:()=>l,default:()=>p,metadata:()=>s,assets:()=>d,contentTitle:()=>r});var s=JSON.parse('{"id":"other/misc","title":"Miscellaneous","description":"React Native Video Miscellaneous & Tips","source":"@site/versioned_docs/version-6.x/other/misc.md","sourceDirName":"other","slug":"/other/misc","permalink":"/react-native-video/docs/v6/other/misc","draft":false,"unlisted":false,"tags":[],"version":"6.x","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Miscellaneous","description":"React Native Video Miscellaneous & Tips"},"sidebar":"docsSidebar","previous":{"title":"Plugins","permalink":"/react-native-video/docs/v6/other/plugin"},"next":{"title":"New Architecture","permalink":"/react-native-video/docs/v6/other/new-arch"}}'),o=n(4848),t=n(6151);let a={sidebar_position:5,title:"Miscellaneous",description:"React Native Video Miscellaneous & Tips"},r="Miscellaneous",d={},l=[{value:"iOS App Transport Security",id:"ios-app-transport-security",level:2},{value:"Audio Mixing",id:"audio-mixing",level:2},{value:"<strong>AppDelegate.m</strong>",id:"appdelegatem",level:3},{value:"Android Expansion File Usage",id:"android-expansion-file-usage",level:2},{value:"Example Usage in Code:",id:"example-usage-in-code",level:3},{value:"Load Files with the React Native Asset System",id:"load-files-with-the-react-native-asset-system",level:2},{value:"Example:",id:"example",level:3},{value:"Play in Background on iOS",id:"play-in-background-on-ios",level:2}];function c(e){let i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"miscellaneous",children:"Miscellaneous"})}),"\n",(0,o.jsx)(i.h2,{id:"ios-app-transport-security",children:"iOS App Transport Security"}),"\n",(0,o.jsxs)(i.p,{children:["By default, iOS only allows loading encrypted (",(0,o.jsx)(i.code,{children:"https"}),") URLs. If you need to load content from an unencrypted (",(0,o.jsx)(i.code,{children:"http"}),") source, you must modify your ",(0,o.jsx)(i.code,{children:"Info.plist"})," file and add the following entry:"]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"App Transport Security",src:n(5146).A+"",width:"964",height:"90"})}),"\n",(0,o.jsxs)(i.p,{children:["For more details, check this ",(0,o.jsx)(i.a,{href:"https://cocoacasts.com/how-to-add-app-transport-security-exception-domains",children:"article"}),"."]}),"\n",(0,o.jsx)(i.h2,{id:"audio-mixing",children:"Audio Mixing"}),"\n",(0,o.jsxs)(i.p,{children:["In future versions, ",(0,o.jsx)(i.code,{children:"react-native-video"})," will include an Audio Manager for configuring how videos mix with other audio-playing apps."]}),"\n",(0,o.jsxs)(i.p,{children:["On iOS, if you want to allow background music from other apps to continue playing over your video component, update your ",(0,o.jsx)(i.code,{children:"AppDelegate.m"})," file:"]}),"\n",(0,o.jsx)(i.h3,{id:"appdelegatem",children:(0,o.jsx)(i.strong,{children:"AppDelegate.m"})}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-objective-c",children:"#import <AVFoundation/AVFoundation.h>  // Import the AVFoundation framework\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n  ...\n  [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryAmbient error:nil];  // Allow background audio\n  ...\n}\n"})}),"\n",(0,o.jsxs)(i.p,{children:["You can also use the ",(0,o.jsx)(i.a,{href:"#ignoresilentswitch",children:(0,o.jsx)(i.code,{children:"ignoreSilentSwitch"})})," prop."]}),"\n",(0,o.jsx)(i.h2,{id:"android-expansion-file-usage",children:"Android Expansion File Usage"}),"\n",(0,o.jsx)(i.p,{children:"Expansion files allow you to include assets exceeding the 100MB APK size limit without requiring an update every time you push a new version."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Only supports ",(0,o.jsx)(i.code,{children:".mp4"})," files, and they ",(0,o.jsx)(i.strong,{children:"must not be compressed"}),"."]}),"\n",(0,o.jsx)(i.li,{children:"Example command to prevent compression:"}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"zip -r -n .mp4 *.mp4 player.video.example.com\n"})}),"\n",(0,o.jsx)(i.h3,{id:"example-usage-in-code",children:"Example Usage in Code:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-javascript",children:'// Assuming "background.mp4" is included in your expansion file.\n<Video \n  source={{uri: "background", mainVer: 1, patchVer: 0}} // Looks for "background.mp4" in the specified expansion version.\n  resizeMode="cover"           // Fill the whole screen while maintaining aspect ratio.\n  style={styles.backgroundVideo} \n/>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"load-files-with-the-react-native-asset-system",children:"Load Files with the React Native Asset System"}),"\n",(0,o.jsxs)(i.p,{children:["The asset system introduced in RN ",(0,o.jsx)(i.code,{children:"0.14"})," allows loading shared image resources across iOS and Android without modifying native code. As of RN ",(0,o.jsx)(i.code,{children:"0.31"}),", the same applies to ",(0,o.jsx)(i.code,{children:".mp4"})," video assets on Android. From RN ",(0,o.jsx)(i.code,{children:"0.33"}),", iOS support was added. Requires ",(0,o.jsx)(i.code,{children:"react-native-video@0.9.0"})," or later."]}),"\n",(0,o.jsx)(i.h3,{id:"example",children:"Example:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-javascript",children:"<Video\n  source={require('../assets/video/turntable.mp4')}\n/>\n"})}),"\n",(0,o.jsx)(i.h2,{id:"play-in-background-on-ios",children:"Play in Background on iOS"}),"\n",(0,o.jsxs)(i.p,{children:["To allow audio playback in the background on iOS, set the audio session to ",(0,o.jsx)(i.code,{children:"AVAudioSessionCategoryPlayback"}),". See the ",(0,o.jsx)(i.a,{href:"https://developer.apple.com/documentation/avfoundation/avaudiosession",children:"Apple documentation"})," for more details."]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsxs)(i.em,{children:["(Note: There is an open ticket to ",(0,o.jsx)(i.a,{href:"https://github.com/react-native-community/react-native-video/issues/310",children:"expose this as a prop"}),".)"]})})]})}function p(e={}){let{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},5146:function(e,i,n){n.d(i,{A:()=>s});let s=n.p+"assets/images/AppTransportSecuritySetting-187ec8dfdad2a09cefaafead943bd32e.png"},6151:function(e,i,n){n.d(i,{R:()=>a,x:()=>r});var s=n(6540);let o={},t=s.createContext(o);function a(e){let i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);