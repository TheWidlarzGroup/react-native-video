"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["6044"],{4977:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>r,default:()=>p,toc:()=>a,metadata:()=>o,assets:()=>l,contentTitle:()=>t});var o=JSON.parse('{"id":"updating","title":"Updating","description":"React Native Video Updating Guide","source":"@site/versioned_docs/version-6.x/updating.md","sourceDirName":".","slug":"/updating","permalink":"/react-native-video/docs/v6/updating","draft":false,"unlisted":false,"tags":[],"version":"6.x","frontMatter":{"title":"Updating","description":"React Native Video Updating Guide","sidebar_class_name":"hidden"},"sidebar":"docsSidebar","previous":{"title":"Useful Projects","permalink":"/react-native-video/docs/v6/projects"},"next":{"title":"Useful Projects","permalink":"/react-native-video/docs/v6/projects"}}'),d=i(5893),s=i(980);let r={title:"Updating",description:"React Native Video Updating Guide",sidebar_class_name:"hidden"},t="Updating",l={},a=[{value:"Version 6.0.0",id:"version-600",level:2},{value:"iOS",id:"ios",level:3},{value:"Minimum iOS Version",id:"minimum-ios-version",level:4},{value:"Linking",id:"linking",level:4},{value:"Podspec",id:"podspec",level:4},{value:"Android",id:"android",level:3},{value:"Using App Build Settings",id:"using-app-build-settings",level:4}];function c(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"updating",children:"Updating"})}),"\n",(0,d.jsx)(n.h2,{id:"version-600",children:"Version 6.0.0"}),"\n",(0,d.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,d.jsx)(n.h4,{id:"minimum-ios-version",children:"Minimum iOS Version"}),"\n",(0,d.jsxs)(n.p,{children:["Starting from version 6.0.0, the minimum supported iOS version is 13.0. Projects using ",(0,d.jsx)(n.code,{children:"react-native < 0.73"})," must set the minimum iOS version to 13.0 in the Podfile."]}),"\n",(0,d.jsx)(n.p,{children:"You can do this by adding the following code to your Podfile:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-diff",children:"- platform :ios, min_ios_version_supported\n\n+ MIN_IOS_OVERRIDE = '13.0'\n+ if Gem::Version.new(MIN_IOS_OVERRIDE) > Gem::Version.new(min_ios_version_supported)\n+   min_ios_version_supported = MIN_IOS_OVERRIDE\n+ end\n"})}),"\n",(0,d.jsx)(n.h4,{id:"linking",children:"Linking"}),"\n",(0,d.jsx)(n.p,{children:"In your project's Podfile, add support for static dependency linking. This is required to support the new Promises subdependency in the iOS Swift conversion."}),"\n",(0,d.jsxs)(n.p,{children:["Add ",(0,d.jsx)(n.code,{children:"use_frameworks! :linkage => :static"})," right below ",(0,d.jsx)(n.code,{children:"platform :ios"})," in your iOS project Podfile."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"https://github.com/TheWidlarzGroup/react-native-video/blob/master/examples/basic/ios/Podfile#L5",children:"See the example iOS project for reference"}),"."]}),"\n",(0,d.jsx)(n.h4,{id:"podspec",children:"Podspec"}),"\n",(0,d.jsx)(n.p,{children:"You can remove the following lines from your Podfile as they are no longer needed:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-diff",children:"-  `pod 'react-native-video', :path => '../node_modules/react-native-video/react-native-video.podspec'`\n\n-  `pod 'react-native-video/VideoCaching', :path => '../node_modules/react-native-video/react-native-video.podspec'`\n"})}),"\n",(0,d.jsxs)(n.p,{children:["If you were previously using VideoCaching, you should set the ",(0,d.jsx)(n.code,{children:"$RNVideoUseVideoCaching"})," flag in your Podspec. See the ",(0,d.jsx)(n.a,{href:"https://docs.thewidlarzgroup.com/react-native-video/installation#video-caching",children:"installation section"})," for details."]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Note:"})," If you are enabling video caching (using ",(0,d.jsx)(n.code,{children:"$RNVideoUseVideoCaching"}),"), you must add the following to your ",(0,d.jsx)(n.code,{children:"Gemfile"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ruby",children:'gem "cocoapods-swift-modular-headers"\n'})}),"\n",(0,d.jsx)(n.p,{children:"Then, install dependencies using:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sh",children:"bundle install\nbundle exec pod install\n"})}),"\n",(0,d.jsx)(n.p,{children:"This enables Swift modular headers for Swift dependencies."}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,d.jsxs)(n.p,{children:["If you were using ExoPlayer on V5, remove the patch from ",(0,d.jsx)(n.strong,{children:"android/settings.gradle"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-diff",children:"- include ':react-native-video'\n- project(':react-native-video').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-video/android-exoplayer')\n"})}),"\n",(0,d.jsx)(n.h4,{id:"using-app-build-settings",children:"Using App Build Settings"}),"\n",(0,d.jsxs)(n.p,{children:["You need to create a ",(0,d.jsx)(n.code,{children:"project.ext"})," section in the top-level ",(0,d.jsx)(n.code,{children:"build.gradle"})," file (not ",(0,d.jsx)(n.code,{children:"app/build.gradle"}),"). Fill in the values from the example below using the ones found in your ",(0,d.jsx)(n.code,{children:"app/build.gradle"})," file."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-groovy",children:'// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ... // Various other settings go here\n}\n\nallprojects {\n    ... // Various other settings go here\n\n    project.ext {\n        compileSdkVersion = 31\n        buildToolsVersion = "30.0.2"\n\n        minSdkVersion = 21\n        targetSdkVersion = 22\n    }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["If you encounter the error ",(0,d.jsx)(n.code,{children:"Could not find com.android.support:support-annotations:27.0.0."}),", reinstall your Android Support Repository."]})]})}function p(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},980:function(e,n,i){i.d(n,{Z:()=>t,a:()=>r});var o=i(7294);let d={},s=o.createContext(d);function r(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);