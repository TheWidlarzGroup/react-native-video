"use strict";(self.webpackChunk_react_native_video_docs=self.webpackChunk_react_native_video_docs||[]).push([["5296"],{4003:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>o,toc:()=>l,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>s});var t=JSON.parse('{"id":"installation","title":"Installation","description":"React Native Video Installation Guide and Requirements","source":"@site/docs/installation.md","sourceDirName":".","slug":"/installation","permalink":"/react-native-video/docs/v7/installation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"description":"React Native Video Installation Guide and Requirements"},"sidebar":"docsSidebar","previous":{"title":"Intro","permalink":"/react-native-video/docs/v7/intro"},"next":{"title":"VideoView","permalink":"/react-native-video/docs/v7/video-view"}}'),r=i(4848),a=i(6151);let o={sidebar_position:2,description:"React Native Video Installation Guide and Requirements"},s="Installation",c={},l=[{value:"Requirements",id:"requirements",level:2},{value:"System Requirements",id:"system-requirements",level:3},{value:"Minimal Package Requirements",id:"minimal-package-requirements",level:3},{value:"Installation",id:"installation-1",level:2},{value:"Patch for react-native &lt; 0.80",id:"patch-for-react-native--080",level:2},{value:"Usage",id:"usage",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,r.jsxs)(n.p,{children:["React Native Video is a library that allows you to play various kinds of video in a React Native application. It is built on top of the ",(0,r.jsx)(n.a,{href:"https://nitro.margelo.com/docs/what-is-nitro",children:(0,r.jsx)(n.code,{children:"react-native-nitro-modules"})})," framework, giving it type-safety and blazing fast communication across Native and JavaScript threads. React Native Video supports both the New Architecture and the Old Architecture."]}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(n.h3,{id:"system-requirements",children:"System Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["iOS ",(0,r.jsx)(n.code,{children:"15.0"})," or higher"]}),"\n",(0,r.jsxs)(n.li,{children:["Android ",(0,r.jsx)(n.code,{children:"6.0"})," or higher"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"minimal-package-requirements",children:"Minimal Package Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"react-native"})," ",(0,r.jsx)(n.code,{children:"0.75.0"})," or higher"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"react-native-nitro-modules"})," ",(0,r.jsx)(n.code,{children:"0.27.2"})," or higher"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation-1",children:"Installation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Install dependencies:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install react-native-video@next react-native-nitro-modules\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Configure Library:\nYou can configure the library in two ways:"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/react-native-video/docs/v7/configuration/expo-plugin",children:"Using expo plugins"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/react-native-video/docs/v7/configuration/manual",children:"Manually editing needed files"})}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Run the project:\nIf you are using Expo, you will need to generate native files:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx expo prebuild\n"})}),"\n",(0,r.jsx)(n.p,{children:"And then run the project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx expo run:ios # run on iOS\nnpx expo run:android # run on Android\n"})}),"\n",(0,r.jsx)(n.p,{children:"If you are using React Native CLI, you will need to install Pods for iOS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ios && pod install && cd ..\n"})}),"\n",(0,r.jsx)(n.p,{children:"And then run the project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx react-native run-ios # run on iOS\nnpx react-native run-android # run on Android\n"})}),"\n",(0,r.jsx)(n.h2,{id:"patch-for-react-native--080",children:"Patch for react-native < 0.80"}),"\n",(0,r.jsxs)(n.p,{children:["Versions of ",(0,r.jsx)(n.code,{children:"react-native"})," < 0.80 have a bug that prevents them from properly handling errors thrown by nitro modules on Android.\nIf working with these versions of ",(0,r.jsx)(n.code,{children:"react-native"}),", we highly recommend you apply the ",(0,r.jsx)(n.code,{children:"react-native-nitro-modules"})," patch below, to fix this issue.\nYou can apply it using ",(0,r.jsx)(n.code,{children:"patch-package"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:'Without this patch you won\'t be able "recognize" errors, all will be thrown as unknown errors.'})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:["For ",(0,r.jsx)(n.code,{children:"react-native-nitro-modules"})," 0.27.X or higher"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-diff",children:'diff --git a/node_modules/react-native-nitro-modules/cpp/core/HybridFunction.hpp b/node_modules/react-native-nitro-modules/cpp/core/HybridFunction.hpp\nindex efcea05..ffad3f2 100644\n--- a/node_modules/react-native-nitro-modules/cpp/core/HybridFunction.hpp\n+++ b/node_modules/react-native-nitro-modules/cpp/core/HybridFunction.hpp\n@@ -23,6 +23,10 @@ struct JSIConverter;\n#include <string>\n#include <type_traits>\n\n+#ifdef ANDROID\n+#include <fbjni/fbjni.h>\n+#endif\n+\nnamespace margelo::nitro {\n\nusing namespace facebook;\n@@ -109,6 +113,15 @@ public:\n        std::string funcName = getHybridFuncFullName<THybrid>(kind, name, hybridInstance.get());\n        std::string message = exception.what();\n        throw jsi::JSError(runtime, funcName + ": " + message);\n+#ifdef ANDROID\n+#pragma clang diagnostic push\n+#pragma clang diagnostic ignored "-Wexceptions"\n+      } catch (const jni::JniException& exception) {\n+        std::string funcName = getHybridFuncFullName<THybrid>(kind, name, hybridInstance.get());\n+        std::string message = exception.what();\n+        throw jsi::JSError(runtime, funcName + ": " + message);\n+#pragma clang diagnostic pop\n+#endif\n      } catch (...) {\n        // Some unknown exception was thrown - add method name information and re-throw as `JSError`.\n        std::string funcName = getHybridFuncFullName<THybrid>(kind, name, hybridInstance.get());\n'})}),(0,r.jsxs)(n.p,{children:["see ",(0,r.jsx)(n.a,{href:"https://github.com/TheWidlarzGroup/react-native-video/blob/v7/example/patches/react-native-nitro-modules%2B0.27.2.patch",children:"raw"})]})]}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:'title="App.tsx"',children:"import { VideoView, useVideoPlayer } from 'react-native-video';\n\nexport default function App() {\n  const player = useVideoPlayer({\n    source: {\n      uri: 'https://www.w3schools.com/html/mov_bbb.mp4',\n    },\n  });\n\n  return <VideoView player={player} />;\n}\n"})})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},6151:function(e,n,i){i.d(n,{R:()=>o,x:()=>s});var t=i(6540);let r={},a=t.createContext(r);function o(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);